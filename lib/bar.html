<html>
  <head>
    <title>Bar Graph: D3 Experiments</title>
    <style>
      #wrapper {
        width: 100%;
        height: 200px;
      }

      #wrapper > svg {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>

    <div>
      <form id="add_data">
        <input type="text" id="new_data_value" placeholder="value" required>
        <input type="text" id="new_data_color" placeholder="color" required>
        <button>Add!</button>
      </form>
    </div>

    <div id="wrapper"></div>

    <script src="d3/d3.js" charset="utf-8"></script>
    <script src="js/bar.js"></script>
    <script>
      (function(){
        // starter data
        var data = [
          { value: 5,   color: 'red',     name: 'red ones'    },
          { value: 10,  color: 'blue',    name: 'blue ones'   },
          { value: 20,  color: 'green',   name: 'green ones'  },
          { value: 25,  color: 'teal',    name: 'teal ones'   },
          { value: 30,  color: 'orange',  name: 'orange ones' },
          { value: 50,  color: 'purple',  name: 'purple ones' }
        ];

        // initiate a new bar chart instance
        var chart = new BarChart("wrapper");
        chart.init(data);

        /**
         * Add a new data point to the chart
         * via the public addData() method
         */
        var form = document.getElementById('add_data');
        form.addEventListener("submit", function(e){
          e.preventDefault();
          var color = document.getElementById('new_data_color').value;
          var newData = {
            value: document.getElementById('new_data_value').value,
            color: color,
            name: color + ' ones'
          }
          chart.addData(newData);
        });
      })();
    </script>

  </body>
</html>
