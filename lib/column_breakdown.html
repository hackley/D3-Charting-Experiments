<html>
  <head>
    <title>Bar Graph: D3 Experiments</title>
    <style>
      body {
        margin: 0;
        padding: 20px;
      }

      #wrapper {
        width: 100%;
        height: 500px;
        border-radius: 4px;
        margin-top: 30px;
        background: #FCFCFC;
        border: 1px solid #eee;
      }

      #wrapper > svg {
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }

      .axis path,
      .axis line {
        fill: none;
        stroke: grey;
        shape-rendering: crispEdges;
      }

      .axis text,
      .full-column text,
      .labels text {
        fill: grey;
        font-family: sans-serif;
        font-size: 11px;
      }
    </style>
  </head>
  <body>

    <div>
      <button id="add_data">Add September!</button>
    </div>

    <div id="wrapper"></div>

    <script src="d3/d3.js" charset="utf-8"></script>
    <script src="js/column_breakdown.js"></script>
    <script>
      (function(){
        // starter data
        var data = [
          {
            groups: [
              {label: 'Sales', value: 210},
              {label: 'Product', value: 130},
              {label: 'Ops', value: 56},
            ],
            label: 'February'
          },
          {
            groups: [
              {label: 'Sales', value: 200},
              {label: 'Product', value: 100},
              {label: 'Ops', value: 50},
            ],
            label: 'March'
          },
          {
            groups: [
              { label: 'Sales', value: 300 },
              { label: 'Product', value: 110 },
              { label: 'Ops', value: 70 },
            ],
            label: 'April'
          },
          {
            groups: [
              { label: 'Sales', value: 213 },
              { label: 'Product', value: 80 },
              { label: 'Ops', value: 83 },
            ],
            label: 'May'
          },
          {
            groups: [
              { label: 'Sales', value: 274 },
              { label: 'Product', value: 293 },
              { label: 'Ops', value: 20 },
            ],
            label: 'June'
          },
          {
            groups: [
              { label: 'Sales', value: 214 },
              { label: 'Product', value: 96 },
              { label: 'Ops', value: 74 },
            ],
            label: 'July'
          },
          {
            groups: [
              { label: 'Sales', value: 410 },
              { label: 'Product', value: 30 },
              { label: 'Ops', value: 25 },
            ],
            label: 'August'
          }
        ];

        // initiate a new bar chart instance
        var chart = new ColumnBreakdownChart("wrapper");
        chart.init(data);

        /**
         * Add a new data point to the chart
         * via the public addData() method
         */
        var button = document.getElementById('add_data');
        button.addEventListener("click", function(e){
          e.preventDefault();
          var newData = {
            groups: [
              { label: 'Sales', value: 200 },
              { label: 'Product', value: 100 },
              { label: 'Ops', value: 50 },
            ],
            label: 'September'
          }
          chart.addData(newData);
        });
      })();
    </script>

  </body>
</html>
