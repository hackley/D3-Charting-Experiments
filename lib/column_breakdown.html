<html>
  <head>
    <title>Bar Graph: D3 Experiments</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      #wrapper {
        width: 100%;
        height: 500px;
      }

      #wrapper > svg {
        width: 100%;
        height: 100%;
        background: #EEE;
        box-sizing: border-box;
      }

      .axis path,
      .axis line {
        fill: none;
        stroke: black;
        shape-rendering: crispEdges;
      }

      .axis text {
        font-family: sans-serif;
        font-size: 11px;
      }

      .full-column {
        position: relative;
      }
    </style>
  </head>
  <body>

    <div>
      <button id="add_data">Add September!</button>
    </div>

    <div id="wrapper"></div>

    <script src="d3/d3.js" charset="utf-8"></script>
    <script src="js/column_breakdown.js"></script>
    <script>
      (function(){
        // starter data
        var data = [
          {
            groups: [
              {label: 'Sales', value: 200},
              {label: 'Product', value: 100},
              {label: 'Ops', value: 50},
            ],
            ccolor: 'red',
            label: 'March'
          },
          {
            groups: [
              {label: 'Sales', value: 300},
              {label: 'Product', value: 110},
              {label: 'Ops', value: 70},
            ],
            label: 'April'
          },
          {
            groups: [
              {label: 'Sales', value: 213},
              {label: 'Product', value: 80},
              {label: 'Ops', value: 83},
            ],
            label: 'May'
          },
          {
            groups: [
              {label: 'Sales', value: 274},
              {label: 'Product', value: 293},
              {label: 'Ops', value: 20},
            ],
            label: 'June'
          },
          {
            groups: [
              {label: 'Sales', value: 214},
              {label: 'Product', value: 96},
              {label: 'Ops', value: 74},
            ],
            label: 'July'
          },
          {
            groups: [
              {label: 'Sales', value: 410},
              {label: 'Product', value: 30},
              {label: 'Ops', value: 25},
            ],
            label: 'August'
          }
        ];

        // initiate a new bar chart instance
        var chart = new ColumnBreakdownChart("wrapper");
        chart.init(data);

        /**
         * Add a new data point to the chart
         * via the public addData() method
         */
        var button = document.getElementById('add_data');
        button.addEventListener("click", function(e){
          e.preventDefault();
          var newData = {
            groups: [
              {label: 'Sales', value: 200},
              {label: 'Product', value: 100},
              {label: 'Ops', value: 50},
            ],
            label: 'September'
          }
          chart.addData(newData);
        });
      })();
    </script>

  </body>
</html>
