<html>
  <head>
    <title>Line Graph: D3 Experiments</title>
    <style>
      #chart {
        width: 900px;
        height:400px;
      }

      #chart > svg {
        width: 100%;
        height: 100%;
      }

      .axis path,
      .axis line {
          fill: none;
          stroke: black;
          shape-rendering: crispEdges;
      }

      .axis text {
          font-family: sans-serif;
          font-size: 11px;
      }
    </style>
  </head>
  <body>

    <div>
      <form id="add_data">
        <input type="text" id="new_data_value" placeholder="value" required>
        <input type="text" id="new_data_date" placeholder="date" required>
        <button>Add!</button>
      </form>
    </div>

    <div id="wrapper"></div>

    <script src="d3/d3.js" charset="utf-8"></script>
    <script src="js/line.js"></script>
    <script>
      (function(){
        // starter data
        var data = [
          { value: 5,   date: 1 },
          { value: 20,  date: 2 },
          { value: 20,  date: 3 },
          { value: 100,  date: 4 },
          { value: 20,  date: 5 },
          { value: 50,  date: 7 }
        ];

        // initiate a new bar chart instance
        var chart = new LineChart("#wrapper");
        chart.init(data);

        /**
         * Add a new data point to the chart
         * via the public addData() method
         */
        var form = document.getElementById('add_data');
        form.addEventListener("submit", function(e){
          e.preventDefault();
          var newData = {
            value: document.getElementById('new_data_value').value,
            date: document.getElementById('new_data_date').value
          }
          chart.addData(newData);
        });
      })();
    </script>

  </body>
</html>
